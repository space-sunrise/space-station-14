using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.UserInterface.Systems.MedicalMenu.Controls;

[GenerateTypedNameReferences]
public sealed partial class OverviewPage : BoxContainer
{
    public OverviewPage()
    {
        RobustXamlLoader.Load(this);
        IoCManager.InjectDependencies(this);
        Contents.OnChildRemoved += OnChildPartRemoved;
    }

    private void OnChildPartRemoved(Control obj)
    {
        if (ChildCount == 0)
            NoPartErrorText.Visible = true;
    }

    public void ClearChildParts()
    {
        Contents.RemoveAllChildren();
    }

    public void AddChildPart(BodyPartStatusControl child)
    {
        Contents.AddChild(child);
        NoPartErrorText.Visible = false;
    }
}

