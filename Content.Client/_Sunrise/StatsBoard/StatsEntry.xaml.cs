using Content.Client.Message;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Localization;

namespace Content.Client._Sunrise.StatsBoard;

[GenerateTypedNameReferences]
public sealed partial class StatsEntry : BoxContainer
{
    public StatsEntry(string entityName, float takeDamage, float takeHeal, float inflictedDamage, float inflictedHeal,
        float slippedCount, float creamedCount, float doorEmagedCount, float electrocutedCount, float cuffedCount,
        float absorbedPuddleCount, int spentTk, float deadCount, float humanoidKillCount, float killedMouseCount,
        TimeSpan cuffedTime, TimeSpan spaceTime, TimeSpan sleepTime, string interactedCaptainCard)
    {
        RobustXamlLoader.Load(this);
        IoCManager.InjectDependencies(this);

        NameLabel.SetMarkup($"{entityName}");
        var statsText = "";

        if (takeDamage > 0)
            statsText += Loc.GetString("statsentry-dmg", ("name", takeDamage));
        if (takeHeal > 0)
            statsText += Loc.GetString("statsentry-heal", ("name", takeHeal));
        if (inflictedDamage > 0)
            statsText += Loc.GetString("statsentry-inf-dmg", ("name", inflictedDamage));
        if (inflictedHeal > 0)
            statsText += Loc.GetString("statsentry-inf-heal", ("name", inflictedHeal));
        if (slippedCount > 0)
            statsText += Loc.GetString("statsentry-slp-cnt", ("name", slippedCount));
        if (creamedCount > 0)
            statsText += Loc.GetString("statsentry-crm-cnt", ("name", creamedCount));
        if (doorEmagedCount > 0)
            statsText += Loc.GetString("statsentry-dre-cnt", ("name", doorEmagedCount));
        if (electrocutedCount > 0)
            statsText += Loc.GetString("statsentry-elctr-cnt", ("name", electrocutedCount));
        if (cuffedCount > 0)
            statsText += Loc.GetString("statsentry-cuff-cnt", ("name", cuffedCount));
        if (absorbedPuddleCount > 0)
            statsText += Loc.GetString("statsentry-absrbpudd-cnt", ("name", absorbedPuddleCount));
        if (spentTk > 0)
            statsText += Loc.GetString("statsentry-spnt-tk", ("name", spentTk));
        if (deadCount > 0)
            statsText += Loc.GetString("statsentry-dead-cnt", ("name", deadCount));
        if (humanoidKillCount > 0)
            statsText += Loc.GetString("statsentry-hmn-kill-cnt", ("name", humanoidKillCount));
        if (killedMouseCount > 0)
            statsText += Loc.GetString("statsentry-mouse-kill-cnt", ("name", killedMouseCount));
        if (cuffedTime > TimeSpan.Zero)
            statsText += Loc.GetString("statsentry-cuff-time", ("name", cuffedTime.ToString("hh\\:mm\\:ss")));
        if (spaceTime > TimeSpan.Zero)
            statsText += Loc.GetString("statsentry-space-time", ("name", spaceTime.ToString("hh\\:mm\\:ss")));
        if (sleepTime > TimeSpan.Zero)
            statsText += Loc.GetString("statsentry-sleep-time", ("name", sleepTime.ToString("hh\\:mm\\:ss")));

        statsText += Loc.GetString("statsentry-int-cc", ("name", interactedCaptainCard));

        StatsLabel.SetMarkup($"{statsText}");
    }
}
