using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client._Sunrise.CentCom.UI;

[GenerateTypedNameReferences]
public sealed partial class CentComGiftsConsoleEntry : PanelContainer
{
    public string Title;
    public string Description;
    public List<string> Content;
    public string? Prototype;

    public event Action<string?>? OnSendButton;

    public CentComGiftsConsoleEntry(string title, string description, List<string> content, string? prototype = null)
    {
        RobustXamlLoader.Load(this);

        Title = title;
        Description = description;
        Content = content;
        Prototype = prototype;

        SendGiftButton.OnPressed += _ => OnSendButton?.Invoke(prototype);

        InitFields();
    }

    private void InitFields()
    {
        TitleLabel.Text = Loc.GetString("centcom-gifts-console-name", ("title", $"[bold][color=darkred]{Title}[/color][/bold]"));
        DescriptionLabel.Text = Loc.GetString("centcom-gifts-console-description", ("desc", $"[bold]{Description}[/bold]"));
        ContentLabel.Text = Loc.GetString("centcom-gifts-console-content", ("desc", $"[bold]{"\n- " + string.Join("\n- ", Content)}[/bold]"));
    }
}

